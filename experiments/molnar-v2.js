// "All Eyes on Me - Daytime - Molnar Recreation V.2"

function setup() {
  createCanvas(innerWidth, innerHeight);
}

const size = 60;
const layers = 30;

// Code generated with the help of ChatGPT - BEGIN
// (ChatGPT, 2025, https://chatgpt.com/share/68b9538c-87d4-800f-beaa-22d3191184d2)
function getRandomEyeColor() {
  const colors = [
    color(121, 85, 72),  // brown
    color(182, 63, 0),  // dark brown
    color(51, 153, 255), // blue
    color(0, 119, 182), // dark blue
    color(0, 128, 0),    // green
    color(170, 122, 65), // hazel
  ];
  return random(colors);
}
// Code generated by GhatGPT - END

function getRandomValue(pos, variance) {
  return pos + map(Math.random(), 0, 1, -variance, variance);
}

function drawLayers(x, y, size, layers) {
  noFill();

  const variance = size / 90;
  const shapeColor = getRandomEyeColor(); 
  
  stroke(shapeColor);

  for (let i = 0; i < layers; i++) {
    if (Math.random() > 0.7) {
      continue;
    }
    const s = (size / layers) * i;
    const half = s / 2;
    beginShape();
    curveVertex(
      getRandomValue(x - half, variance),
      getRandomValue(y - half, variance)
    );
    curveVertex(
      getRandomValue(x + half, variance),
      getRandomValue(y - half, variance)
    );
    curveVertex(
      getRandomValue(x + half, variance),
      getRandomValue(y + half, variance)
    );
    curveVertex(
      getRandomValue(x - half, variance),
      getRandomValue(y + half, variance)
    );
    endShape(CLOSE);
  }
}

function draw() {
  background(255, 255, 255);

  for (let y = 0; y < 10; y++) {
    for (let x = 0; x < 10; x++) {
      drawLayers(size / 2 + x * size, size / 2 + y * size, size, layers);
    }
  }

  noLoop();
}